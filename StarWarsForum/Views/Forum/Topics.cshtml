@model StarWarsForum.Models.ForumViewModels.ForumTopicModel

<h1>Welcome to the @Model.Forum.Title forum!</h1>

@if (Model.TopicDeletedMessage != null)
{
    <div class="alert alert-info">@Model.TopicDeletedMessage</div>
}

@if (Model.Topics.Any())
{
    <table class="table table-bordered table-hover" id="topicsTable">
        <tbody>
            @foreach (var topic in Model.Topics)
            {
                <tr>
                    <td>
                        <a asp-controller="Topic" asp-action="Index" asp-route-id="@topic.Id">
                            @topic.Title
                        </a>
                    </td>
                    <td>
                        @topic.TopicStarterName
                    </td>
                    <td>
                        @topic.DateStarted
                    </td>
                    <td>
                        @topic.PostsCount
                    </td>
                    <td>
                        @topic.LastPostAuthorName
                    </td>
                    <td>
                        @topic.LastPostCreated
                    </td>
                </tr>
            }
        </tbody>
    </table>

    @if (User.Identity.IsAuthenticated)
    {
        <a asp-controller="Topic" asp-action="Create" asp-route-id="@Model.Forum.Id">
            <span>Create new topic</span>
        </a>
    }
}

else
{
    <div class="noTopics">
        <h3>
            There are no opened topics in this forum for now.
            Be the first to
            <a asp-controller="Topic" asp-action="Create" asp-route-id="@Model.Forum.Id">
                <span>create</span>
            </a>
            one!
        </h3>
    </div>
}